<p>tasks works!</p>
<div class="tache-container">
    <div class="header">
      <h2 *ngIf="projectDetails">Tâches du projet: {{ projectDetails.nom }}</h2>
      <h2 *ngIf="!projectDetails">Tâches du projet</h2>
      <div class="header-actions">
        <button class="btn btn-primary" (click)="openTaskModal()">
          <i class="fas fa-plus"></i> Ajouter une tâche
        </button>
        <button class="btn btn-secondary" routerLink="/admin/project">
          <i class="fas fa-arrow-left"></i> Retour aux projets
        </button>
      </div>
    </div>
  
    <div *ngIf="isLoading" class="loading-spinner">
      <i class="fas fa-spinner fa-spin"></i>
    </div>
  
    <div *ngIf="!isLoading && tasks.length === 0" class="no-tasks">
      <p>Aucune tâche n'est associée à ce projet.</p>
    </div>
  
    <div *ngIf="!isLoading && tasks.length > 0" class="tasks-list">
      <div class="task-card" *ngFor="let task of tasks">
        <div class="task-header">
          <h3>{{ task.description }}</h3>
          <span class="task-status" [class.completed]="task.etat">
            {{ task.etat ? 'Terminée' : 'En cours' }}
          </span>
        </div>
        
        <div class="task-body">
          <div class="task-dates">
            <p><strong>Date de début:</strong> {{ task.debutdateAffaire | date: 'dd/MM/yyyy' }}</p>
            <p><strong>Date de fin:</strong> {{ task.FindateAffaire | date: 'dd/MM/yyyy' }}</p>
            <p><strong>Deadline:</strong> {{ task.deadline | date: 'dd/MM/yyyy' }}</p>
          </div>
          
          <div class="task-employees" *ngIf="task.employes && task.employes.length > 0">
            <h4>Employés assignés:</h4>
            <ul>
              <li *ngFor="let employe of task.employes">
                {{ employe.nom }} {{ employe.prenom }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Task Creation Modal -->
    <div class="modal" *ngIf="showTaskModal">
      <div class="modal-content">
        <span class="close" (click)="closeTaskModal()">&times;</span>
        <h3>Ajouter une nouvelle tâche</h3>
        
        <form (submit)="submitTask()">
          <div class="form-group">
            <label>Description de la tâche</label>
            <input type="text" [(ngModel)]="newTask.description" name="description" required>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label>Date de début</label>
              <input type="date" [(ngModel)]="newTask.debutdateAffaire" name="debutdateAffaire" required>
            </div>
            <div class="form-group">
              <label>Date de fin</label>
              <input type="date" [(ngModel)]="newTask.FindateAffaire" name="FindateAffaire" required>
            </div>
          </div>
          
          <div class="form-group">
            <label>Date limite (Deadline)</label>
            <input type="date" [(ngModel)]="newTask.deadline" name="deadline" required>
          </div>
          
          <div class="form-group">
            <label>Statut</label>
            <select [(ngModel)]="newTask.etat" name="etat">
              <option [ngValue]="false">En cours</option>
              <option [ngValue]="true">Terminée</option>
            </select>
          </div>
          
          <div class="form-group">
            <label>Assigner à un employé</label>
            <select [(ngModel)]="selectedEmployeeId" name="employeeId" required>
              <option [ngValue]="null">Sélectionner un employé</option>
              <option *ngFor="let employee of employees" [ngValue]="employee.id">
                {{ employee.nom }} {{ employee.prenom }} ({{ employee.email }})
              </option>
            </select>
          </div>
          
          <div class="form-actions">
            <button type="button" class="btn btn-secondary" (click)="closeTaskModal()">Annuler</button>
            <button type="submit" class="btn btn-primary">Créer la tâche</button>
          </div>
        </form>
      </div>
    </div>
  </div>